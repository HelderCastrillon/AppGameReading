(this["webpackJsonpgame-reading-v2"]=this["webpackJsonpgame-reading-v2"]||[]).push([[0],{117:function(e,t,a){},122:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(0),i=a.n(r),c=a(11),o=a.n(c),s=(a(117),a(215)),l=a(19),u=a(31),d=a(28),h=a(48),j=a(47),b=a(212),g=a(213),p=a(42),f=a(203),O="data:image/png;base64,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",v=a(221),m=a(152),x=a(95),A=a.n(x),k=a(220),w=a(97),y=a(214),C=a(96),B=a(89),L=a.n(B),N=a(60),S=a.n(N),E=Object(C.a)({typography:{useNextVariants:!0},palette:{primary:{main:L.a[700]},secondary:{main:S.a[500]}},styles:{MainTitle:{color:"white",backgroundImage:"none",backgroundColor:"transparent"},secondTitle:{color:"white",paddingBottom:50},MainButton:{color:"white"},backgroundLogo:{backgroundImage:"url("+O+")",width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"right center",bgproperties:"fixed"},ContentMain:{paddingLeft:200,paddingTop:80},darkStyleBackgroud:{background:"linear-gradient(45deg, #424242 30%, #616161 90%)"},whiteStyleBackgroud:{background:"linear-gradient(45deg, #e8eaf6 30%, #f5f5f5 90%)"},AppBar:{background:"rgba(0,0,0,.0)",border:0,boxShadow:"0 3px 5px 2px rgba(0,0,0,.0)"},grow:{flexGrow:1},cardGrid:{width:250,minWidth:250,overflow:"hidden"}}}),F=a(12),W=a(6),I=a(197),U=a(202),T=a(201),D=a(200),M=a(91),R=a.n(M);var G=Object(W.a)({title:{height:40,marginBottom:15},author:{},summary:{height:100},card:{maxWidth:400,height:430,margin:10},media:{height:140}})((function(e){var t,a=e.liked;void 0==a&&(a=[]);var r=e.classes;return Object(n.jsxs)(I.a,{className:r.card,children:[Object(n.jsx)(D.a,{className:r.media,image:e.cover,title:e.title}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)("div",{className:r.title,children:Object(n.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title})}),Object(n.jsx)("div",{className:r.author,children:Object(n.jsxs)(p.a,(t={gutterBottom:!0,variant:"subtitle2"},Object(F.a)(t,"gutterBottom",!0),Object(F.a)(t,"children",["Autor: ",e.author]),t))}),Object(n.jsx)("div",{className:r.summary,children:Object(n.jsx)(p.a,{children:e.summary.substring(0,200)})})]}),Object(n.jsxs)(U.a,{style:{paddingTop:25},children:[Object(n.jsx)(m.a,{"aria-label":"Add to favorites",onClick:function(){return e.likeLecture(e.bookid)},disabled:e.disabledlikes,color:void 0==a.find((function(t){return t==e.bookid}))?"default":"primary",children:Object(n.jsx)(R.a,{})}),Object(n.jsx)(f.a,{size:"small",color:"primary",onClick:function(){return e.selectLecture(e)},disabled:e.disabledlikes,children:"Leer!!"})]})]})})),K=a(92),H=(a(122),a(18)),X=a(205),Y=a(210),V=a(207),P=a(208),J=a(206),Q=a(216),z=a(204),Z=a(217),q=a(219),_=a(209),$=a(25),ee=a.n($),te=i.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(l.a)({direction:"up",ref:t},e))}));function ae(e){var t=Object(r.useState)(""),a=Object(H.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(""),l=Object(H.a)(s,2),u=l[0],d=l[1],h=i.a.useState("photo"),j=Object(H.a)(h,2),b=j[0],g=j[1],p=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],O=function(){e.close()},v=function(e,t){"note"==t?o(e.target.value):d(e.target.value)};return Object(n.jsx)("div",{children:Object(n.jsxs)(X.a,{open:e.open,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",TransitionComponent:te,fullWidth:!0,children:[Object(n.jsxs)(J.a,{id:"alert-dialog-title",children:[Object(n.jsx)(m.a,{"aria-owns":e.open?"menu-appbar":void 0,"aria-haspopup":"true",children:Object(n.jsx)(k.a,{alt:"Lector",src:e.user.photoURL})}),e.user.displayName+", escribe tu comentario"]}),Object(n.jsxs)(V.a,{children:[Object(n.jsx)(P.a,{id:"alert-dialog-description",children:e.textSelected}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{label:"\xbfLo has visto esto en alg\xfan lado?",onChange:function(e){return v(e,"reference")},helperText:"coloca aqu\xed el link (ejemplo: http://www.mitos.....)",fullWidth:!0}),Object(n.jsx)("br",{}),Object(n.jsxs)(q.a,{"aria-label":"position",name:"position",value:b,onChange:function(e){g(e.target.value)},row:!0,children:[Object(n.jsx)(_.a,{value:"photo",control:Object(n.jsx)(Z.a,{color:"primary"}),label:"Foto"}),Object(n.jsx)(_.a,{value:"video",control:Object(n.jsx)(Z.a,{color:"primary"}),label:"video"})]}),Object(n.jsx)("br",{}),Object(n.jsx)(Q.a,{label:"Escribe tu opini\xf3n",onChange:function(e){return v(e,"note")},fullWidth:!0,multiline:!0,rows:"4",margin:"normal",variant:"filled"})]}),Object(n.jsxs)(Y.a,{children:[Object(n.jsx)(f.a,{onClick:O,color:"primary",children:"Ahora no"}),Object(n.jsx)(f.a,{onClick:function(){return function(t,a,n,r){var i=new Date,c=i.getMonth()+1,o=i.getDate(),s=i.getFullYear(),l=i.getHours(),u=i.getMinutes(),d=i.getSeconds();c.length<2&&(c="0"+c),o.length<2&&(o="0"+o);var h=o+" de "+p[c]+" del "+s+", a las "+[l,u,d].join(":");ee.a.database().ref("/notes/"+i.getTime()).set({user:{displayName:t.displayName,email:t.email,photoURL:t.photoURL},textSelected:a,typeReference:b,note:n,reference:r,date:h},(function(t){t?console.error(t):e.close()}))}(e.user,e.textSelected,c,u)},color:"primary",autoFocus:!0,children:"Agregar"})]})]})})}var ne=a(218),re=a(211),ie=a(94),ce=a.n(ie),oe=a(93),se=a.n(oe),le=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={expanded:!1,render:!0},e.handleExpandClick=function(){e.setState((function(e){return{expanded:!e.expanded}}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return void 0==this.props.user?"":Object(n.jsxs)(I.a,{className:t.card,children:[Object(n.jsx)(re.a,{avatar:Object(n.jsx)(k.a,{alt:"Lector",src:this.props.user.photoURL}),action:Object(n.jsx)(m.a,{children:Object(n.jsx)(ce.a,{onClick:function(){return e.props.closeNote()}})}),title:this.props.user.displayName,subheader:this.props.date}),"photo"==this.props.typeReference?Object(n.jsx)(D.a,{className:t.media,image:this.props.reference,title:"Paella dish"}):Object(n.jsx)(se.a,{width:"100%",height:"100%",url:this.props.reference,playing:!0}),Object(n.jsx)(T.a,{children:Object(n.jsx)(p.a,{component:"p",children:this.props.note})})]})}}]),a}(i.a.Component),ue=Object(W.a)((function(e){return{card:{maxWidth:300},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:S.a[500]}}}))(le),de={content:{margin:10,color:"white"}},he=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).getNotes=function(){ee.a.database().ref("notes/").on("value",(function(e){n.setNotes(e.val())}))},n.setNotes=function(e){var t=Object.values(e).map((function(e){return{word:e.textSelected,action:"click",className:"wonder-word",caseSensitive:!0,actionCallback:function(){return n.setState({note:e})}}}));n.setState({Notes:t})},n.close=function(){n.setState({open:!1})},n.closeNote=function(){n.setState({note:void 0})},n.toggleDrawer=function(e,t){return function(e){!e||"keydown"!==e.type||"Tab"!==e.key&&e.key}},n.state={open:!1,textSelected:"",user:{},note:void 0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mouseup",(function(){var t=window.getSelection().toString();t.length>4&&e.setState({open:!0,textSelected:t})})),this.getNotes()}},{key:"render",value:function(){var e=this,t=this.props.currentLecture,a=t.title,r=(t.summary,t.cover,t.text),i=0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:de.content,children:[Object(n.jsx)(p.a,{variant:"h4",gutterBottom:!0,color:this.props.color,children:a}),Object(n.jsx)(p.a,{variant:"body2",gutterBottom:!0,align:"justify",color:this.props.color,children:r.map((function(t){return i++,Object(n.jsx)("p",{children:Object(n.jsx)(K.a,{matchWords:e.state.Notes,displayText:t},i)})}))})]}),Object(n.jsx)(ne.a,{anchor:"right",open:void 0!=this.state.note,onClose:this.toggleDrawer("right",!1),onOpen:this.toggleDrawer("right",!0),children:Object(n.jsx)(ue,Object(l.a)(Object(l.a)({},this.state.note),{},{closeNote:this.closeNote}))}),Object(n.jsx)(ae,Object(l.a)(Object(l.a)({},this.state),{},{close:this.close,user:this.props.user}))]})}}]),a}(i.a.Component),je=Object(W.a)(de)(he),be=a(74);var ge=Object(W.a)((function(e){return{root:Object(l.a)(Object(l.a)({},e.mixins.gutters()),{},{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}}))((function(e){var t=e.classes;return Object(n.jsx)("div",{children:Object(n.jsxs)(be.a,{className:t.root,elevation:1,children:[Object(n.jsx)(p.a,{variant:"h5",component:"h3",children:"Estrategia para la promoci\xf3n de la lectoescritura"}),Object(n.jsxs)(p.a,{component:"p",children:["Narrativa digital y literatura hipertextual en los procesos de comprensi\xf3n lectora de los estudiantes",Object(n.jsxs)("pre",{children:[Object(n.jsx)("strong",{children:"Investigadores Principales:"}),Object(n.jsx)("p",{children:"Helder Yesid Castrill\xf3n (hcastrillon@unicomfacauca.edu.co) - PhD Ingenier\xeda telem\xe1tica "}),Object(n.jsx)("p",{children:"Angela Patricia Rodriguez (aurreste@unicomfacauca.edu.co)  - MG. Tecnolog\xedas aplicadas  la educaci\xf3n "}),Object(n.jsx)("p",{children:"Popay\xe1n 2020 "}),Object(n.jsx)("p",{children:"Universidad Unicomfacauca"}),Object(n.jsx)("p",{children:"Licencia MIT"}),Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"https://github.com/HelderCastrillon/GameReading",target:"_blank",children:" C\xf3digo fuente"})}),Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)("strong",{children:"Grupos de investigaci\xf3n:"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"http://www.unicomfacauca.edu.co/index.php/investigacion/grupos-de-investigacion/grupo-tic-unicomfacauca",target:"_blank",children:Object(n.jsx)("img",{src:"http://www.unicomfacauca.edu.co/cache/mod_roksprocket/01fd3c28e20a9591fc5ae0e7ac32c16e_200_200.png"})}),Object(n.jsx)("a",{href:"http://www.unicomfacauca.edu.co/index.php/investigacion/grupos-de-investigacion/grupo-comunicacion-para-la-ciudadania",target:"_blank",children:Object(n.jsx)("img",{src:"http://www.unicomfacauca.edu.co/cache/mod_roksprocket/c6ab5525dd6e9e8544e0b798366e1ae0_200_200.png"})})]})]})]})]})})}));var pe=Object(W.a)((function(e){return{root:Object(l.a)(Object(l.a)({},e.mixins.gutters()),{},{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}}))((function(e){var t=e.classes;return Object(n.jsx)("div",{children:Object(n.jsxs)(be.a,{className:t.root,elevation:1,children:[Object(n.jsx)(p.a,{variant:"h5",component:"h3",children:"Favoritos"}),Object(n.jsxs)(p.a,{component:"p",children:["Hola ",e.userName," aqui tienes la lista de tus lecturas favoritas"]}),Object(n.jsx)("ul",{children:e.books.map((function(t){if(void 0!=e.likes.find((function(e){return e==t.key})))return Object(n.jsxs)("li",{children:[t.title+" de "+t.author,Object(n.jsx)(f.a,{size:"small",color:"primary",onClick:function(){return e.selectLecture(t)},disabled:e.disabledlikes,children:"Leer!!"})]})}))})]})})})),fe=(a(150),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={auth:!0,anchorEl:null,styleSelected:!0,currentLecture:null,Book:[],likes:[],userAccount:null,showAbout:!1,showFavorite:!1},e}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState({auth:e.target.checked})}},{key:"handleChangeStyle",value:function(e){this.setState({styleSelected:e.target.checked})}},{key:"handleMenu",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleClose",value:function(){this.setState({anchorEl:null})}},{key:"selectLecture",value:function(e){this.setState({currentLecture:e,showAbout:!1,showFavorite:!1})}},{key:"getAbout",value:function(){this.setState({showAbout:!0})}},{key:"getFavorite",value:function(){this.setState({showFavorite:!0,anchorEl:null})}},{key:"renderCards",value:function(){var e=this,t=this.state.Book;if(t.length>0)return t.map((function(t){return Object(n.jsx)(G,Object(l.a)(Object(l.a)({},t),{},{bookid:t.key,likeLecture:e.setLike.bind(e),selectLecture:e.selectLecture.bind(e),liked:e.state.likes,disabledlikes:null==e.state.userAccount}))}))}},{key:"loginFacebook",value:function(){var e=this;this.setState({anchorEl:null});var t=new ee.a.auth.FacebookAuthProvider;ee.a.auth().signInWithPopup(t).then((function(t){var a=t.user;e.saveUserInformation(t),e.setState({userAccount:a,anchorEl:null}),e.getLikes(a.uid)})).catch((function(t){console.warn(t);t.code,t.message,t.email,t.credential;e.setState({userAccount:null,anchorEl:null})}))}},{key:"sessionPersist",value:function(){ee.a.auth().setPersistence(ee.a.auth.Auth.Persistence.LOCAL).then((function(){return this.loginFacebook()})).catch((function(e){e.code,e.message}))}},{key:"saveUserInformation",value:function(e){var t=new Date,a=e.user.uid+"_"+t/1;ee.a.database().ref("/users/"+a).set({info:JSON.stringify(e)},(function(e){e&&console.error(e)}))}},{key:"logOut",value:function(){this.setState({anchorEl:null,userAccount:null})}},{key:"initFirebase",value:function(){ee.a.initializeApp({apiKey:"AIzaSyDcdo6A5ux_wNtafiEYB7A_0vxUxsRaxj8",authDomain:"gamereading.firebaseapp.com",databaseURL:"https://gamereading.firebaseio.com",projectId:"gamereading",storageBucket:"gamereading.appspot.com",messagingSenderId:"493040980527"})}},{key:"getStories",value:function(){var e=this;return ee.a.database().ref("/stories").once("value").then((function(t){e.setState({Book:t.val()})}))}},{key:"getLikes",value:function(e){var t=this;return ee.a.database().ref("/likes/"+e).once("value").then((function(e){t.setState({likes:e.val().book})}))}},{key:"setLike",value:function(e){var t=this,a=this.state.likes,n=this.state.userAccount.uid;a.find((function(t){return t==e}))==e?a=a.filter((function(t){return t!=e})):a.push(e),ee.a.database().ref("/likes/"+n).set({book:a},(function(e){e?console.error(e):t.setState({likes:a})}))}},{key:"componentDidMount",value:function(){this.initFirebase(),this.getStories()}},{key:"render",value:function(){var e=this,t=E.styles,a=Boolean(this.state.anchorEl);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:this.state.styleSelected?t.darkStyleBackgroud:t.whiteStyleBackgroud,children:[Object(n.jsx)(b.a,{position:"static",style:t.AppBar,children:Object(n.jsxs)(g.a,{className:"toolbar",children:[Object(n.jsx)("img",{src:O}),Object(n.jsx)(p.a,{variant:"h5",color:this.state.styleSelected?"inherit":"default",style:t.grow,children:"GameReading"}),Object(n.jsx)(f.a,{color:this.state.styleSelected?"inherit":"default",onClick:function(){return e.selectLecture(null)},children:"Lecturas"}),Object(n.jsx)(f.a,{color:this.state.styleSelected?"inherit":"default",onClick:function(){return e.getAbout()},children:"Acerca del proyecto"}),Object(n.jsx)(y.a,{checked:this.state.styleSelected,onChange:this.handleChangeStyle.bind(this),value:"styleSelected",color:"default"}),this.state.auth&&Object(n.jsxs)("div",{children:[Object(n.jsx)(m.a,{"aria-owns":a?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu.bind(this),color:this.state.styleSelected?"inherit":"default",children:null==this.state.userAccount?Object(n.jsx)(A.a,{}):Object(n.jsx)(k.a,{alt:"Lector",src:this.state.userAccount.photoURL})}),null==this.state.userAccount?Object(n.jsx)(w.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleClose.bind(this),children:Object(n.jsx)(v.a,{onClick:this.loginFacebook.bind(this),children:"Iniciar Sesi\xf3n"})}):Object(n.jsxs)(w.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleClose.bind(this),children:[Object(n.jsxs)(v.a,{disabled:!0,children:[" ",this.state.userAccount.displayName]}),Object(n.jsx)(v.a,{onClick:function(){return e.getFavorite()},children:"Favoritos"}),Object(n.jsx)(v.a,{onClick:this.logOut.bind(this),children:"Salir"})]})]})]})}),Object(n.jsx)("div",{className:"contenedor",children:1==this.state.showAbout?Object(n.jsx)(ge,{}):1==this.state.showFavorite?Object(n.jsx)(pe,{books:this.state.Book,likes:this.state.likes,selectLecture:this.selectLecture.bind(this),userName:this.state.userAccount.displayName}):null==this.state.currentLecture?this.renderCards():Object(n.jsx)("div",{children:Object(n.jsx)(je,{currentLecture:this.state.currentLecture,user:this.state.userAccount,color:this.state.styleSelected?"inherit":"default"})})})]}),Object(n.jsx)("div",{className:"footer",children:Object(n.jsxs)(p.a,{variant:"caption",color:this.state.styleSelected?"inherit":"default",children:[Object(n.jsxs)("p",{children:[" ",Object(n.jsx)("strong",{children:" Aplicaci\xf3n desarrollada por Helder Castrill\xf3n "})]}),Object(n.jsx)("p",{children:" Grupo de Invesigaci\xf3n Tic Unicomfacauca"}),Object(n.jsx)("p",{children:" Popay\xe1n Cauca, 2020"})]})})]})}}]),a}(i.a.Component)),Oe=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(s.a,{theme:E,children:Object(n.jsx)(fe,{})})})},ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,222)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Oe,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ve?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):me(t,e)}))}}(),xe()}},[[151,1,2]]]);
//# sourceMappingURL=main.dcbdd154.chunk.js.map